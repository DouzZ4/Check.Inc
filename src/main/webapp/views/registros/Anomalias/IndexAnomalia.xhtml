<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="/views/TemplateSitio.xhtml">

            <ui:define name="title">
                Registro y Consulta de Medicamentos
            </ui:define>

            <ui:define name="content">
                <h:messages globalOnly="true" styleClass="message-box" infoClass="message-info" errorClass="message-error"/>
                <section aria-labelledby="form-title-heading">
                <h2 id="form-title-heading">#{registroAnomalia.editando ? 'Editar' : 'Registrar'} Anomalia</h2>
                <h:form id="formAnomalia">
                    <h:inputHidden id="id" value="#{registroAnomalia.idAnomalia}"/>
                    <div class="form-group">
                        <h:outputLabel for="descripcion" value="Descripcion:"/>
                        <p:inputTextarea id="descripcion" value="#{registroAnomalia.descripcion}" required="true"
                                   requiredMessage="Por favor ingrese la descripcion"/>
                        <h:message for="descripcion" styleClass="message error-message"/>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="fechaHora" value="Fecha:"/>
                        <p:datePicker id="fechaHora" value="#{registroAnomalia.fechaHora}" required="true"
                                   requiredMessage="Por favor ingrese la Fecha"
                                   pattern="dd/MM/yyyy" locale="es"/>
                        <h:message for="fechaHora" styleClass="message error-message"/>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="sintomas" value="Sintomas:"/>
                        <h:inputTextarea id="sintomas" value="#{registroAnomalia.sintomas}" required="true"
                                     requiredMessage="Por favor ingrese los Sintomas"/>
                        <h:message for="sintomas" styleClass="message error-message"/>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="gravedad" value="Gravedad:"/>
                        <h:inputTextarea id="gravedad" value="#{registroAnomalia.gravedad}" required="true"
                                     requiredMessage="Por favor ingrese la gravedad"/>
                        <h:message for="gravedad" styleClass="message error-message"/>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="resuelto" value="Estado:"/>
                        <h:inputTextarea id="resuelto" value="#{registroAnomalia.resuelto}" required="true"
                                     requiredMessage="Por favor ingrese el estado"/>
                        <h:message for="resuelto" styleClass="message error-message"/>
                    </div>
                    <div id="form-buttons">
                        <h:commandButton value="#{registroAnomalia.editando ? 'Actualizar' : 'Registrar'}" 
                                       action="#{registroAnomalia.registrar}"
                                       styleClass="submit-button"/>
                        <h:commandButton value="Cancelar" 
                                       action="#{registroAnomalia.cancelarEdicion}"
                                       immediate="true" styleClass="cancel-button"/>
                    </div>
                </h:form>
            </section>
            </ui:define>

        </ui:composition>

    </body>
</html>
