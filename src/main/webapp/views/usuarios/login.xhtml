<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      lang="es">
<h:head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Inicio de Sesión - Control Glucosa</title>
    <h:outputStylesheet library="css" name="navbar.css"/>
    <h:outputStylesheet library="css" name="login.css"/>
    <h:outputStylesheet library="css" name="styles.css"/>
</h:head>

<h:body>
    <ui:include src="/includes/navbar.xhtml"/>

    <main class="form-container login-container">
        <h2>Iniciar Sesión</h2>

        <h:form>
            <h:panelGroup rendered="#{Login.loggedIn == null}">
                <div class="form-group">
                    <label for="username">Nombre de Usuario:</label>
                    <h:inputText id="username" value="#{Login.username}" required="true" requiredMessage="Este campo es obligatorio"/>
                    <h:message for="username" styleClass="message"/>
                </div>

                <div class="form-group">
                    <label for="password">Contraseña:</label>
                    <h:inputSecret id="password" value="#{Login.password}" required="true"
                                   requiredMessage="Debe ingresar una contraseña"/>
                    <h:message for="password" styleClass="message"/>
                </div>

                <h:commandButton value="Iniciar Sesión" action="#{Login.iniciarSesion}" styleClass="submit-button"/>

                <div class="register-link">
                    ¿No tienes cuenta? <h:link value="Regístrate aquí" outcome="registrousuario"/>
                </div>
            </h:panelGroup>

            <h:panelGroup rendered="#{Login.loggedIn}">
                <p>¡Bienvenido #{Login.username}! Accede a tu <h:link value="Dashboard" outcome="dashboard"/>.</p>
                <h:commandButton value="Cerrar Sesión" action="#{Login.cerrarSesion}" styleClass="submit-button"/>
            </h:panelGroup>
        </h:form>
    </main>
</h:body>
</html>